# 위협동향 탐지 서비스

외부 보안 위협동향(뉴스)과 내부 보안 로그(스팸스나이퍼 · NDR · 웹방화벽)를 연계하여 탐지 현황을 한눈에 보여주는 웹 대시보드입니다.

![UI 스케치](ui-sketches/IMG_0019.jpeg)

---

## 주요 기능

| 기능 | 설명 |
|------|------|
| 외부 위협동향 | 보안뉴스 · 데일리시큐 등에서 수집한 위협 기사 목록 표시 |
| 탐지현황 | 스팸스나이퍼 · NDR · 웹방화벽 로그와 기사를 매칭한 탐지 이벤트 표시 |
| 연계 하이라이트 | 기사 클릭 시 관련 탐지 항목 자동 강조 |
| 위협탐지 챗봇 | 기사·이벤트 클릭 또는 키워드 입력으로 상세 내용 조회 |
| 엑셀 데이터 연동 | `.xlsx` 업로드만으로 실제 데이터 즉시 반영 (서버 불필요) |

---

## 탐지 프로세스

![프로세스 - 스팸스나이퍼](process-docs/IMG_0021.jpeg)
![프로세스 - NDR / 웹방화벽](process-docs/IMG_0022.jpeg)

---

## 시작하기

별도 설치 없이 `index.html`을 브라우저에서 바로 열면 됩니다.

```bash
open index.html   # macOS
start index.html  # Windows
```

> SheetJS는 CDN으로 자동 로드됩니다. 인터넷 연결이 필요합니다.

---

## 엑셀 데이터 연동

상단의 **📂 엑셀 데이터 가져오기** 버튼으로 `.xlsx` 파일을 업로드하면 데이터가 즉시 반영됩니다.

### 시트 구조

**`뉴스기사1`, `뉴스기사2`, ...** (시트명이 `뉴스기사`로 시작하면 자동 인식)

| 열 | 항목 | 예시 |
|----|------|------|
| A | 제목 | ChinaZ DDoS Bot 악성코드, 리눅스 SSH 서버 대상 유포 중 |
| B | 출처 | 데일리시큐 |
| C | 날짜 | 2026-02-20 |
| D | 본문 | 기사 전체 내용 |
| E | 태그 | DDoS,악성코드,리눅스 |

**`스팸스나이퍼`**

| 열 | 항목 |
|----|------|
| A | 기사명 (뉴스기사 제목과 매칭) |
| B | 시간 |
| C | 발신자 |
| D | 메일제목 |
| E | 수신자 |
| F | 수신건수 |
| G | 조치 |

**`NDR로그`**

| 열 | 항목 |
|----|------|
| A | 기사명 |
| B | NDR_RuleName |
| C | 소스 IP |
| D | 대상 IP |
| E | 탐지 유형 |
| F | 클라이언트 IP |
| G | 서버 IP |
| H | 탐지 근거 |
| I | 조치 |
| J | 이벤트 건수 |

**`웹방화벽로그`**

| 열 | 항목 |
|----|------|
| A | 기사명 |
| B | 클라이언트 IP |
| C | 서버 IP |
| D | 탐지 근거 |
| E | 조치 |
| F | 이벤트 건수 |

> 1행은 헤더(컬럼명), 2행부터 데이터를 입력합니다.
> `스팸스나이퍼` · `NDR로그` · `웹방화벽로그`의 **기사명**이 뉴스기사 제목과 매칭되어 탐지현황에 자동 연계됩니다.

---

## 파일 구조

```
threat-trend-detection/
├── index.html              # 메인 페이지
├── css/
│   └── style.css           # 스타일
├── js/
│   ├── data.js             # 기본 목데이터
│   ├── excel.js            # 엑셀 파싱 모듈 (SheetJS)
│   └── app.js              # 렌더링 및 챗봇 로직
├── ui-sketches/            # UI 스케치 이미지
└── process-docs/           # 프로세스 설명 이미지
```

---

## 챗봇 키워드

| 입력 키워드 | 응답 |
|------------|------|
| `피싱` / `메일` | 메일 관련 탐지 현황 |
| `웹방화벽` / `WAF` | 웹방화벽 탐지 이벤트 |
| `NDR` | NDR 탐지 이벤트 |
| `전체 요약` / `현황` | 전체 탐지 통계 |
| 뉴스 제목 키워드 | 관련 기사 검색 |
